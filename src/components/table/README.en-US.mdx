# Table

Table is not your first choice.

Different from PC, there's limited space in Mobile, so that in most situations, table can be replaced by card with better user interactivity.
However, in terms of displaying and analysing structured data, table is still the best way.

---

### Install
```javascript
import { Table } from '@okee-uikit/m-vue';

Vue.use(Table);
```

## Demo

:::card
```topic
Fixed Height
```
```desc
When space is limited, you can fix the table height, and scroll vertically to check data.
```
```html
<byted-table :columns="fixedHeightColumns" :data="data" :height="350" />
```
:::

:::card
```topic
Fixed Column
```
```desc
You can also fix rightmost or leftmost column and scroll horizontally to check data.
```
```html
<byted-table :columns="fixedColumns" :data="data" :height="350" />
```
:::

:::card
```topic
Expandable
```

```html
<byted-table
  :columns="fixedHeightColumns"
  :data="data"
  :height="350"
  :expanded="expanded"
  :expandOptions="expandingOptions"
  @expand-change="onExpandChange"
/>
```
:::


:::card
```topic
Sorting
```
```desc
Sort and filter the data.
```
```html
<byted-table
  :columns="columns"
  :data="data"
  :height="350"
  :sortDataProp="sortDataProp"
  :sortType="sortType"
  @sort-change="handleSortChange"
  @filter-change="handleFilterChange"
/>
```
:::


:::card
```topic
Empty Content
```
```desc

```
```html
<byted-table :columns="fixedHeightColumns" :data="[]" :height="350" />
```
:::


:::card
```topic
Sliding Table
```

```html
<byted-table swipeable :columns="columns" :data="data" :height="350" />
```
:::

:::card
```topic
Ceiling
```
```desc
Table header sticks on top.
```
```html
<byted-table :columns="ceilingColumns" :data="data" :ceilingOptions="ceilingOptions" />
```
:::


:::card
```topic
Data
```
```javascript

const columns: TableColumnProps[] = [
  {
    dataProp: 'key1',
    title: 'Title1',
    minWidth: '100px',
    sortable: true,
    filterable: true,
    fixed: 'left',
    cellClass: 'test',
    thCellClass: 'thclass',
    tdCellClass: 'tdClass',
  },
  {
    dataProp: 'key2',
    title: 'Title2',
    minWidth: '160px',
    width: '100px',
    sortable: true,
  },
  {
    dataProp: 'key3',
    title: 'Title3',
    minWidth: '150px',
    width: '250px',
    sortable: true,
    filterable: true,
  },
  {
    dataProp: 'key31',
    title: 'Title31',
    minWidth: '150px',
    width: '250px',
    sortable: true,
    filterable: true,
  },
  {
    dataProp: 'key32',
    title: 'Title32',
    minWidth: '150px',
    width: '250px',
    sortable: true,
    filterable: true,
  },
  {
    dataProp: 'key4',
    title: 'Title4',
    width: '100px',
    sortable: true,
    fixed: 'right'
  },
];

const fixedHeightColumns: TableColumnProps[] = columns.map((item) => {
  return Object.assign({}, item, {
    fixed: undefined,
    sortable: false,
    filterable: false,
  });
});

const fixedColumns: TableColumnProps[] = columns.map((item) => {
  return Object.assign({}, item, {
    sortable: false,
    filterable: false,
  });
});

const ceilingColumns: TableColumnProps[] = columns.slice(0,2);

const data = React.useRef(Array.from(new Array(20), () => {
  return {
    id: Math.random(),
    key1: 'Column1',
    key2: 'Column2',
    key3: 'Column3',
    key31: 'Column31',
    key32: 'Column32',
    key4: 'Column4',
    key5: 'Column5',
    key455: 'Column455',
    key566: 'Column1566',
    key666: 'Column666',
    key777: 'Column777',
    key888: 'Column888',
    key999: 'Column999',
    key22333: 'Column2333',
  };
}));
```
:::



:::card
```topic
TS Type
```
```javascript
export interface TableProps extends React.HTMLAttributes<HTMLDivElement>, EmptyContentProps {
  columns: TableColumnProps[];
  data: TableDataProps[];

  dataPropsMapping?: TableDataPropType;

  height?: string | number;
  
  sortDataProp?: string;
  sortType?: TableSortType;
  
  expanded?: string[];
  expandOptions?: TableExpandOptionsType;

  ceilingOptions?: TableCeilingOptionsType;
  
  loading?: boolean;

  swipeable?: boolean;
  showIndicator?: boolean;
  

  onSortChange?: (column: TableColumnProps, sortDataProp: string, sortType: TableSortType) => void;
  onFilterChange?: (column: TableColumnProps, filterDataProp: string) => void;
  onExpandChange?: (expandRowData: TableDataProps, newExpanded: string[]) => void;
}

```
:::


## API

##### Props

| Parameter | Description | Type | Default |
|------|------|------|------|
| columns | Props for table column | `TableColumnProps[]` | `[]` |
| data | Displayed data | `TableDataProps[]` | `[]` |
| height | Table height, if table content is larger than than the value, table header will be fixed on top. | `string` | `null` |
| sortDataProp | Column props for sorting data | `string` | `null` |
| sortType | Table sort type | `TableSortType` | `false` |
| expanded | Expanded row id | `string[]` | `[]` |
| expandOptions | Options for expanding | `TableExpandOptionsType` | `null` |
| ceilingOptions | Option description for ceiling.  | `TableCeilingOptionsType` | `null` |
| swipeable | Whether to slide the columns | `boolean` | `false` |

## Events

| Event | Description | Arguments |
|------|------|------|
| onSortChange | Sort event | (column: TableColumnProps, sortDataProp: string, sortType: TableSortType) => void; | event: Event |
| onFilterChange | Filter event | (column: TableColumnProps, filterDataProp: string) => void; | event: Event |
| onExpandChange | Expand event | (expandRowData: TableDataProps, newExpanded: string[]) => void; | event: Event |
